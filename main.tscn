[gd_scene load_steps=16 format=3 uid="uid://cashgotxn8mk8"]

[ext_resource type="Texture2D" uid="uid://dvt1wsjhrlbg6" path="res://Assets/rocky_terrain_diff_4k.jpg" id="1_0xm2m"]
[ext_resource type="Script" uid="uid://b22vpkdb0t3ku" path="res://player.gd" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://2hitdsd7krod" path="res://sub_viewport_container.gd" id="2_272bh"]
[ext_resource type="PackedScene" uid="uid://d4knlelgiiuwn" path="res://Assets/low_poly_trees_free.glb" id="3_h2yge"]
[ext_resource type="Script" uid="uid://1xej2u2rjch2" path="res://canvas_layer.gd" id="4_lquwl"]
[ext_resource type="FontFile" uid="uid://c7ic2xtxu0saj" path="res://Assets/Blood Victim Zombie.ttf" id="5_7mycd"]
[ext_resource type="PackedScene" uid="uid://cvoxcig6nihon" path="res://Assets/Running.fbx" id="6_5vw27"]
[ext_resource type="Script" uid="uid://iq61ralh1o0b" path="res://inamic.gd" id="6_7mycd"]

[sub_resource type="Sky" id="Sky_0xm2m"]

[sub_resource type="Environment" id="Environment_h2yge"]
background_mode = 2
background_energy_multiplier = 0.1
sky = SubResource("Sky_0xm2m")
tonemap_mode = 2
fog_enabled = true
fog_density = 0.05
volumetric_fog_enabled = true
volumetric_fog_density = 0.02

[sub_resource type="BoxShape3D" id="BoxShape3D_1bvp3"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h2yge"]
albedo_texture = ExtResource("1_0xm2m")
uv1_triplanar = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xm2m"]
radius = 0.15631104
height = 0.31262207

[sub_resource type="CapsuleMesh" id="CapsuleMesh_h2yge"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5vw27"]

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h2yge")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.87511003, 0.48392403, 0, 0.010058569, -0.018189536, 0.99978393, 0.48381948, -0.87492096, -0.020785429, 0, 1.1701496, 0)
light_color = Color(0.0011271259, 0.076737575, 0.42307687, 1)
light_energy = 0.1
shadow_enabled = true

[node name="HUD" type="CanvasLayer" parent="."]

[node name="Crosshair" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2

[node name="Dot" type="Label" parent="HUD/Crosshair"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -15.5
offset_right = 20.0
offset_bottom = 15.5
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 22
text = "."

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.1, 0, 0, 0, 10, 0, 0, 0, 150, -1.9436836, 4, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_1bvp3")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(0.1, 0, 0, 0, 10, 0, 0, 0, 150, 2.011612, 4, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("BoxShape3D_1bvp3")

[node name="Sketchfab_Scene" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(3.785, 0, 0, 0, 3.785, 0, 0, 0, 3.785, -4.4804463, 0.06832397, 45.975056)

[node name="Sketchfab_Scene2" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(3.785, 0, 0, 0, 3.785, 0, 0, 0, 3.785, -2.5734074, 0.06832397, 45.975056)

[node name="Sketchfab_Scene3" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(-1.654476e-07, 0, 3.785, 0, 3.785, 0, -3.785, 0, -1.654476e-07, -3.1106322, 0.06832397, 42.37537)

[node name="Sketchfab_Scene4" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(-1.654476e-07, 0, 3.785, 0, 3.785, 0, -3.785, 0, -1.654476e-07, -2.5734074, 0.06832397, 44.20366)

[node name="Sketchfab_Scene5" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(-1.654476e-07, 0, 3.785, 0, 3.785, 0, -3.785, 0, -1.654476e-07, 2.511192, 0.06832397, 42.37537)

[node name="Sketchfab_Scene6" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(-1.654476e-07, 0, 3.785, 0, 3.785, 0, -3.785, 0, -1.654476e-07, 3.0484169, 0.06832397, 44.20366)

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
stretch = true
stretch_shrink = 5
script = ExtResource("2_272bh")

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(256, 144)
render_target_update_mode = 4

[node name="Road" type="CSGBox3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.7445068)
use_collision = true
size = Vector3(10, 0.1, 100)
material = SubResource("StandardMaterial3D_h2yge")

[node name="Player" type="CharacterBody3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9934317, 43.33341)
script = ExtResource("1_ig7tw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Player"]
shape = SubResource("CapsuleShape3D_0xm2m")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Player"]
mesh = SubResource("CapsuleMesh_h2yge")

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport/Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.64238524, 0)

[node name="SpotLight3D" type="SpotLight3D" parent="SubViewportContainer/SubViewport/Player/Camera3D"]

[node name="Inamic" type="CharacterBody3D" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("player_target")]
transform = Transform3D(-0.99844074, 0, 0.05582139, 0, 1, 0, -0.05582139, 0, -0.99844074, 0, -0.15260795, 0)
script = ExtResource("6_7mycd")
player_target = NodePath("../Player")

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Inamic"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.0767237, 0)
shape = SubResource("CapsuleShape3D_5vw27")

[node name="Running" parent="SubViewportContainer/SubViewport/Inamic" instance=ExtResource("6_5vw27")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.20465839, 0)

[node name="Skeleton3D" parent="SubViewportContainer/SubViewport/Inamic/Running" index="0"]
bones/2/position = Vector3(-6.352747e-22, 0.09685768, -5.621125e-12)
bones/2/rotation = Quaternion(-0.0005983881, -2.204052e-39, -2.43364e-39, 0.9999998)
bones/3/position = Vector3(7.940934e-23, 0.1587542, -3.2164549e-12)
bones/3/rotation = Quaternion(-0.008115671, 2.938834e-39, 5.119998e-39, 0.99996704)
bones/4/position = Vector3(1.0587912e-22, 0.26173446, -0.0016119491)
bones/4/rotation = Quaternion(0, 0, -5.877472e-39, 1)
bones/5/position = Vector3(-5.293956e-23, 0.14369309, 0.0012782639)
bones/5/rotation = Quaternion(0, 0, 5.877472e-39, 1)
bones/6/position = Vector3(2.646978e-23, 0.14446789, 0.022464788)
bones/6/rotation = Quaternion(0, 0, 5.877472e-39, 1)
bones/7/rotation = Quaternion(0, 0, 5.877472e-39, 1)
bones/8/rotation = Quaternion(0, 0, 5.877472e-39, 1)
bones/10/position = Vector3(-2.0816682e-17, 0.14052671, -4.440892e-16)
bones/11/position = Vector3(-1.9253349e-12, 0.33616695, -8.881784e-16)
bones/11/rotation = Quaternion(-2.0537871e-13, -2.3255281e-11, 0.008726535, 0.9999619)
bones/12/position = Vector3(6.789e-11, 0.30298972, -4.2388315e-13)
bones/12/rotation = Quaternion(-2.0674467e-25, 3.2311743e-27, 8.6736174e-19, 1)
bones/14/position = Vector3(9.197088e-13, 0.023071475, -1.7130741e-12)
bones/14/rotation = Quaternion(1.0408341e-17, 6.938894e-18, 2.7755576e-17, 1)
bones/15/position = Vector3(7.6028073e-13, 0.019081544, -1.4166446e-12)
bones/15/rotation = Quaternion(1.0408341e-17, 6.938894e-18, 2.7755576e-17, 1)
bones/16/position = Vector3(1.8700597e-12, 0.04694596, -3.490097e-12)
bones/16/rotation = Quaternion(1.0408341e-17, 6.938894e-18, 2.7755576e-17, 1)
bones/17/rotation = Quaternion(4.6599616e-06, -2.9294595e-11, -6.2864456e-06, 1)
bones/18/position = Vector3(3.5018446e-12, 0.032711007, 3.1203218e-10)
bones/18/rotation = Quaternion(-4.6599594e-06, -5.859797e-11, 1.2574781e-05, 1)
bones/19/position = Vector3(3.469773e-12, 0.034099273, -6.7279515e-14)
bones/19/rotation = Quaternion(-1.3371358e-18, 2.776813e-20, -6.288181e-06, 1)
bones/20/position = Vector3(3.460815e-12, 0.031757597, 1.5543122e-15)
bones/20/rotation = Quaternion(4.1419615e-25, 2.5849394e-26, 0, 1)
bones/21/rotation = Quaternion(2.4585886e-06, 1.182887e-11, 4.8112443e-06, 1)
bones/22/position = Vector3(3.3155007e-12, 0.030971542, 2.9533398e-10)
bones/22/rotation = Quaternion(-6.725042e-06, 7.3808556e-11, -1.0975182e-05, 1)
bones/23/position = Vector3(3.8417602e-12, 0.035778612, 1.1946177e-10)
bones/23/rotation = Quaternion(4.2677902e-06, 2.63065e-11, 6.163963e-06, 1)
bones/24/position = Vector3(3.6627784e-12, 0.03445645, -9.2412966e-11)
bones/24/rotation = Quaternion(-8.279884e-25, 6.4623485e-27, 8.6736174e-19, 1)
bones/25/rotation = Quaternion(-2.0676991e-25, 0, 0, 1)
bones/26/position = Vector3(3.2561454e-13, 0.029351333, 8.881784e-16)
bones/26/rotation = Quaternion(2.2882058e-16, 5.827211e-20, -1.415776e-05, 1)
bones/27/position = Vector3(2.9696245e-12, 0.027786218, 2.8865799e-15)
bones/27/rotation = Quaternion(-2.3384923e-16, -5.8343117e-20, 1.4157793e-05, 1)
bones/28/position = Vector3(3.1157993e-12, 0.029060982, -2.6645353e-15)
bones/28/rotation = Quaternion(-4.136408e-25, 6.4623485e-27, 8.6736174e-19, 1)
bones/29/rotation = Quaternion(-3.4531474e-06, 3.5723265e-11, -1.0345131e-05, 1)
bones/30/position = Vector3(2.3683833e-12, 0.02212459, 2.110736e-10)
bones/30/rotation = Quaternion(-8.270958e-06, -9.3644745e-11, 1.1322117e-05, 1)
bones/31/position = Vector3(2.0853597e-12, 0.01952282, 1.1532331e-11)
bones/31/rotation = Quaternion(1.1722497e-05, -1.1451806e-11, -9.769084e-07, 1)
bones/32/position = Vector3(2.9693747e-12, 0.027694248, 8.90823e-11)
bones/32/rotation = Quaternion(-2.0679515e-25, 3.2311743e-27, 0, 1)
bones/34/position = Vector3(5.551115e-17, 0.14052731, 8.881784e-16)
bones/35/position = Vector3(-1.8918894e-12, 0.336167, 4.440892e-16)
bones/35/rotation = Quaternion(8.088319e-16, 1.6964567e-13, -0.008726535, 0.9999619)
bones/36/position = Vector3(-1.1786475e-10, 0.302989, -1.7376722e-10)
bones/38/position = Vector3(6.217249e-15, 0.023072265, 9.769963e-15)
bones/39/position = Vector3(6.7723605e-15, 0.019081024, -4.6629367e-15)
bones/40/position = Vector3(1.5099033e-14, 0.04694777, 5.2846616e-14)
bones/40/rotation = Quaternion(1.0408341e-17, 2.7755576e-17, 4.1633363e-17, 1)
bones/41/rotation = Quaternion(4.3646165e-17, 2.78917e-20, 6.1145324e-06, 1)
bones/42/position = Vector3(2.5583702e-14, 0.03271, -1.110223e-15)
bones/42/rotation = Quaternion(1.9993955e-16, -5.7562736e-20, -1.197944e-05, 1)
bones/43/position = Vector3(7.4877604e-14, 0.0341, -2.0306201e-11)
bones/43/rotation = Quaternion(-2.4379908e-16, 2.7923488e-20, 5.864716e-06, 1)
bones/44/position = Vector3(1.7902346e-14, 0.03176, -1.8913981e-11)
bones/44/rotation = Quaternion(-1.9721523e-31, 0, 0, 1)
bones/45/position = Vector3(0.00012679995, 0.141025, -8.087131e-11)
bones/45/rotation = Quaternion(4.804229e-17, -2.2113764e-20, -4.8432025e-06, 1)
bones/46/position = Vector3(2.4202862e-14, 0.03097, 4.440892e-16)
bones/46/rotation = Quaternion(-2.9882915e-17, 5.423235e-20, 1.1830539e-05, 1)
bones/47/position = Vector3(-7.786827e-14, 0.03578, -2.0081936e-11)
bones/47/rotation = Quaternion(-1.8370945e-17, -3.169433e-20, -6.987527e-06, 1)
bones/48/position = Vector3(5.846712e-14, 0.03445, -1.9333424e-11)
bones/48/rotation = Quaternion(-3.9443045e-31, 0, -8.6736174e-19, 1)
bones/49/rotation = Quaternion(0, 0, 0, 1)
bones/50/position = Vector3(-3.95195e-12, 0.02935, 6.661338e-16)
bones/50/rotation = Quaternion(-3.2035713e-17, 6.459209e-20, 1.4399042e-05, 1)
bones/51/position = Vector3(-3.5083048e-14, 0.02778, -1.5666357e-11)
bones/51/rotation = Quaternion(3.1823987e-17, -6.4589894e-20, -1.4399232e-05, 1)
bones/52/position = Vector3(3.0586644e-14, 0.02906, -1.638556e-11)
bones/52/rotation = Quaternion(-3.230977e-27, -5.04871e-29, 0, 1)
bones/53/rotation = Quaternion(0, 0, 0, 1)
bones/54/position = Vector3(-2.9785896e-12, 0.022121, 0)
bones/54/rotation = Quaternion(-0.00025601668, 1.0982024e-22, -3.0814883e-33, 0.99999994)
bones/55/position = Vector3(-7.581685e-12, 0.019530002, -3.8147263e-13)
bones/55/rotation = Quaternion(0.00025601638, -3.721946e-22, 0, 0.99999994)
bones/56/position = Vector3(-1.0765194e-11, 0.02769, -5.402345e-13)
bones/56/rotation = Quaternion(0, 0, 0, 1)
bones/57/rotation = Quaternion(-9.55221e-09, 0.029953066, 0.9995513, 8.430173e-07)
bones/58/position = Vector3(4.709325e-08, 0.38169, 7.2164497e-16)
bones/58/rotation = Quaternion(-0.07898136, 1.0462809e-06, 5.641076e-08, 0.9968761)
bones/59/position = Vector3(6.596787e-08, 0.5363, -6.4531713e-16)
bones/59/rotation = Quaternion(0.5269982, -1.4135018e-06, 1.0454423e-06, 0.8498664)
bones/60/position = Vector3(2.6545936e-07, 0.202, -1.3183898e-15)
bones/61/position = Vector3(9.086647e-08, 0.100078315, -7.44069e-14)
bones/61/rotation = Quaternion(7.472911e-13, 1.7952404e-23, -1.02570396e-22, 1)
bones/63/position = Vector3(3.8452583e-09, 0.3816895, -7.0290995e-15)
bones/64/position = Vector3(1.3063534e-10, 0.5363001, 1.6653345e-16)
bones/65/position = Vector3(-1.033663e-10, 0.202, -2.7755576e-17)
bones/66/position = Vector3(-5.2216745e-11, 0.10008, 5.3668008e-17)
bones/66/rotation = Quaternion(0, 1.05846807e-22, -6.617445e-24, 1)

[node name="AnimationPlayer" parent="SubViewportContainer/SubViewport/Inamic/Running" index="1"]
autoplay = "mixamo_com"
speed_scale = 0.175

[node name="CanvasLayer" type="CanvasLayer" parent="."]
offset = Vector2(180, 0)
transform = Transform2D(1, 0, 0, 1, 180, 0)
script = ExtResource("4_lquwl")

[node name="Label" type="Label" parent="CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -547.0
offset_top = -74.0
offset_right = 157.0
offset_bottom = 113.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 0.25490198, 0, 1)
theme_override_fonts/font = ExtResource("5_7mycd")
theme_override_font_sizes/font_size = 60
text = "Ca sa scapi trebuie sa treci toate
                 restantele"

[editable path="SubViewportContainer/SubViewport/Inamic/Running"]
